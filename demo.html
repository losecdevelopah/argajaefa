<!DOCTYPE html>
<html>
<head>
  <title>Online RSA Key Generator</title>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

  <script type="text/javascript" src="https://rawgit.com/losecdevelopah/rsa/master/bin/jsencrypt.js"></script>
</head>
<body>
        <div>
        Key Size: <span id="key-size"></span>
        </div>

        <button id="generate">Generate New Keys</button>
        <br>&nbsp;<br>
        <span><i><small id="time-report"></small></i></span>

          <div>
            <label for="privkey">Private Key</label><br/>
            <small>
              <textarea id="privkey" rows="15" style="width:100%" readonly="readonly"></textarea>
            </small>
          </div>

          <div>
            <label for="pubkey">Public Key</label><br/>
            <small>
              <textarea id="pubkey" rows="15" style="width:100%" readonly="readonly"></textarea>
            </small>
          </div>

<script type="text/javascript">
  $(function () {

    var generateKeys = function () {
      keySize = 2048;

      var crypt = new JSEncrypt({default_key_size: keySize});
      var dt = new Date();
      var time = -(dt.getTime());

      crypt.getKey();
      dt = new Date();
      time += (dt.getTime());
      $('#time-report').text('Generated in ' + time + ' ms');
      $('#privkey').val(crypt.getPrivateKey());
      $('#pubkey').val(crypt.getPublicKey());

      $('#key-size').text(keySize);
    };

    // If they wish to generate new keys.
    $('#generate').click(generateKeys);
    generateKeys();
  });
</script>

</body>
</html>
